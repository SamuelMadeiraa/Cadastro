<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<style>
  .titulo-alunos {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;

  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }

  th {
    background-color: #f2f2f2;
  }

  tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  .botao-aluno{
    margin-top:10px;
  }
</style>
</head>

<body>
  <h1 class="titulo-alunos"><strong>Lista de Alunos cadastrados</strong></h1>

  <%= form_with url: "/alunos/filtrar", method: :get do |form| %>
    <%= form.label :query, "Search for:" %>
    <%= form.text_field :query %>
    <%= form.submit "Search" %>
  <% end %>

  <table>
    <thead>
      <tr>
        <th>Nome Completo</th>
        <th>Email</th>
        <th>CPF</th>
        <th>Data de nascimento</th>
        <th>Turma</th>
        <th>Disciplinas</th>

      </tr>
    </thead>
    <tbody>

      <% @alunos.each do |aluno| %>
        <tr>
          <td><%= link_to aluno.nome_completo, aluno %></td>
          <td><%=  aluno.email %></td>
          <td><%= aluno.cpf.gsub(/(\d{3})(\d{3})(\d{3})(\d{2})/, '\1.\2.\3-\4') %></td>
          <td><%= aluno.data_nascimento %></td>
          <td><%= aluno.turma.turma %></td>
          <td><%= aluno.disciplina_id %></td>


     

        </tr>
      <% end %>

    </tbody>
  </table>

  <button class="botao-aluno">
    <%= link_to "Novo aluno", new_aluno_path	%> 
  </button>

</body>
</html>
